var SocialShareKit=function(){function a(a){w=a||{},x=/(twitter|facebook|google-plus|pinterest|tumblr|vk|linkedin|email)/,b(function(){v=c(w.selector||".ssk"),v.length&&(d(v,function(a){var b,c=g(a);c&&(f(a,"click",h),e(a,"click",h),-1!==a.parentNode.className.indexOf("ssk-count")&&(c=c[0],b=c+z+l(c,a),b in y||(y[b]=[]),y[b].push(a)))}),q())})}function b(a){"loading"!=document.readyState?a():document.addEventListener?document.addEventListener("DOMContentLoaded",a):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&a()})}function c(a){return document.querySelectorAll(a)}function d(a,b){for(var c=0;c<a.length;c++)b(a[c],c)}function e(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,function(){c.call(a)})}function f(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}function g(a){return a.className.match(x)}function h(a){var b,c=i(a),d=g(c);d&&(b=k(d[0],c),b&&("email"!=d[0]?j(b):document.location=b))}function i(a){var b=a||window.event;return b.preventDefault?b.preventDefault():(b.returnValue=!1,b.cancelBubble=!0),b.target||b.srcElement}function j(a){var b=575,c=400,d=document.documentElement.clientWidth/2-b/2,e=(document.documentElement.clientHeight-c)/2,f="status=1,resizable=yes,width="+b+",height="+c+",top="+e+",left="+d;return win=window.open(a,"",f),win.focus(),win}function k(a,b){var c,d=p(a,b),e=l(a,b,d),f=encodeURIComponent(e),g="undefined"!=typeof d.title?d.title:m(a),h="undefined"!=typeof d.text?d.text:n(a),i=d.image,j=d.via;switch(a){case"facebook":c="https://www.facebook.com/share.php?u="+f;break;case"twitter":c="https://twitter.com/share?url="+f+"&text="+encodeURIComponent(g+(h&&g?" - ":"")+h),j=j||o("twitter:site"),j&&(c+="&via="+j.replace("@",""));break;case"google-plus":c="https://plus.google.com/share?url="+f;break;case"pinterest":c="http://pinterest.com/pin/create/button/?url="+f+"&description="+encodeURIComponent(h),i=i||o("og:image"),i&&(c+="&media="+encodeURIComponent(i));break;case"tumblr":c="http://www.tumblr.com/share/link?url="+f+"&name="+encodeURIComponent(g)+"&description="+encodeURIComponent(h);break;case"linkedin":c="http://www.linkedin.com/shareArticle?mini=true&url="+f+"&title="+encodeURIComponent(g)+"&summary="+encodeURIComponent(h);break;case"vk":c="http://vkontakte.ru/share.php?url="+f;break;case"email":c="mailto:?subject="+encodeURIComponent(g)+"&body="+encodeURIComponent(g+"\n"+e+"\n\n"+h+"\n")}return c}function l(a,b,c){return c=c||p(a,b),c.url||window.location.href}function m(a){var b;return"twitter"==a&&(b=o("twitter:title")),b||document.title}function n(a){var b;return"twitter"==a&&(b=o("twitter:description")),b||o("description")}function o(a,b){var d,e=c("meta["+(b?b:0===a.indexOf("og:")?"property":"name")+'="'+a+'"]');return e.length&&(d=e[0].getAttribute("content")||""),d||""}function p(a,b){var c,d,e,f,g=["url","title","text","image"],h={},i=b.parentNode;"twitter"==a&&g.push("via");for(f in g)d=g[f],e="data-"+d,c=b.getAttribute(e)||i.getAttribute(e)||(w[a]&&"undefined"!=typeof w[a][d]?w[a][d]:w[d]),"undefined"!=typeof c&&(h[d]=c);return h}function q(){var a,b;for(a in y)b=a.split(z),function(a){s(b[0],b[1],function(b){for(var c in a)r(a[c],b)})}(y[a])}function r(a,b){var c=document.createElement("div");c.innerHTML=b,c.className="ssk-num",a.appendChild(c)}function s(a,b,c){var d,e,f,g=encodeURIComponent(b);switch(a){case"facebook":d="http://graph.facebook.com/?id="+g,e=function(a){return c(a.shares?a.shares:0)};break;case"twitter":d="http://cdn.api.twitter.com/1/urls/count.json?url="+g,e=function(a){return c(a.count)};break;case"google-plus":return d="https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",f='[{"method":"pos.plusones.get","id":"p","params":{"id":"'+b+'","userId":"@viewer","groupId":"@self","nolog":true},"jsonrpc":"2.0","key":"p","apiVersion":"v1"}]',e=function(a){return a=JSON.parse(a),a.length?c(a[0].result.metadata.globalCounts.count):void 0},void t(d,e,f);case"linkedin":d="http://www.linkedin.com/countserv/count/share?url="+g,e=function(a){return c(a.count)};break;case"pinterest":d="http://api.pinterest.com/v1/urls/count.json?url="+g,e=function(a){return c(a.count)};break;case"vk":d="http://vk.com/share.php?act=count&url="+g,e=function(a){return c(a)}}d&&e&&u(a,d,e,f)}function t(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<400&&b(this.responseText)},d.open("POST",a,!0),d.setRequestHeader("Content-Type","application/json"),d.send(c)}function u(a,b,c){var d="cb_"+a+"_"+Math.round(1e5*Math.random()),e=document.createElement("script");return window[d]=function(a){try{delete window[d]}catch(b){}document.body.removeChild(e),c(a)},"vk"==a?window.VK={Share:{count:function(a,b){window[d](b)}}}:"google-plus"==a&&(window.services={gplus:{cb:window[d]}}),e.src=b+(b.indexOf("?")>=0?"&":"?")+"callback="+d,document.body.appendChild(e),!0}var v,w,x,y={},z="*|*";return{init:a}}();window.SocialShareKit=SocialShareKit;